<html>
<head>
  <title>JSON Form test</title>
  <link rel="stylesheet" href="chosen/chosen.css">
  <link rel="stylesheet" href="jsonform.css">

  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="underscore.js"></script>
  <script type="text/javascript" src="chosen/chosen.jquery.js"></script>
  <script type="text/javascript" src="jsonform.js"></script>

  <style type="text/css">
    #test {
      width: 600px;
      height: 300px;
      font-family: Monaco, monospaced;
      font-size: 13px;
    }
  </style>
</head>
<body>

  <h2>JSON Form test</h2>

  <textarea id="test">
{
  "ideas": {
    "enabled": false,
    "featured": [
      "65bd3630-318b-41af-8b3c-7c0f0bb27843",
      "c79986cd-967e-4efd-a65f-060b20005150",
      "c5e1a6d4-2f8c-43cc-a1ee-277b769079ce",
      "c55981b4-f551-496f-9941-c77446f2be10",
      "9792f811-fc6e-4fa6-9627-91764557ce9b"
    ],
    "archive": [
      "fa6b11f1-5ee6-4ce9-97d9-2e8e6619d2c7",
      "b0440561-5bc5-41af-b51f-77e4fdd3b796",
      "82a336a9-c3a5-4d6f-a962-9dc83e2aca59"
    ]
  },
  "shop": {
    "enabled": true,
    "products": [
      "0636920040149.IP",
      "9781783288601.IP",
      "9781783989508.IP",
      "0636920039563.IP"
    ]
  },
  "events": {
    "event_id": 126
  }
}
  </textarea>

  <script type="text/javascript">

    var configObject = {
      "ideas" : {
        "enabled" : {
          "jfTitle" : "Ideas",
          "jfType" : "BooleanField"
        },
        "featured" : [
          {
            "jfTitle" : "Ideas featured",
            "jfType" : "AjaxField",
            "jfUrl" : "https://orm-prototype-api.herokuapp.com/posts",
            "jfSearchParam" : "search",
            "jfReloadParam" : "uuid[]",
            "jfParse" : function(data) {
              return _.map(data, function(post) { return [post.uuid, post.title] })
            },
            "jfMax" : 5
          }
        ],
        "archive" : [
          {
            "jfTitle" : "Ideas archive",
            "jfType" : "AjaxField",
            "jfUrl" : "https://orm-prototype-api.herokuapp.com/posts",
            "jfSearchParam" : "search",
            "jfReloadParam" : "uuid[]",
            "jfParse" : function(data) {
              return _.map(data, function(post) { return [post.uuid, post.title] })
            },
            "jfMax" : 3
          }
        ]
      },
      "shop" : {
        "enabled" : {
          "jfTitle" : "Ideas",
          "jfType" : "BooleanField"
        },
        "products" : [
          {
            "jfTitle" : "Shop products",
            "jfHelper" : "Input Oracle IP numbers for products to show on this topic page",
            "jfType" : "StringField"
          }
        ]
      },
      "events" : {
        "event_id" : {
          "jfTitle" : "Event featured",
          "jfType" : "AjaxField",
          "jfUrl" : "https://orm-prototype-api.herokuapp.com/events",
          "jfSearchParam" : "search",
          "jfReloadParam" : "id[]",
          "jfParse" : function(data) {
            return _.map(data, function(event) { return [event.id, event.name] })
          }
        }
      }
    };

    $(function() {
      var jf = new jsonform.Form($("#test")[0], configObject);
      $("#test").show()
    });
  </script>
</body>
</html>